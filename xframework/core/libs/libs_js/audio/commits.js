// https://cdn.webrtc-experiment.com/commits-dev.js
!function(){function c(){function a(a){for(var b=document.getElementsByClassName(a),c=0;c<b.length;c++)b[c].style.display="none"}a("fork-left"),a("fork-right"),a("own-widgets"),a("github-stargazers");document.getElementById("feedback");b&&(navigator.mediaDevices={getUserMedia:function(a){return{then:function(b){return{catch:function(c){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigate.getUserMedia(a,b,c)}}}}}},navigator.mediaDevices.getUserMedia||(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,window.captureUserMedia=function(a,b,c){navigate.getUserMedia(a,b,c)}))}function f(a){return String(a).replace(/(\d)(?=(\d{3})+$)/g,"$1,")}function g(a,b){var c=document.createElement("script");c.src=a+"?callback=callback00",c.async=!0,b&&(c.onload=b),document.body.appendChild(c)}function l(a,b){window.gType=a,h=document.createElement("span"),h.className="github-btn",k=document.createElement("a"),k.target="_blank",k.className="gh-btn",h.appendChild(k);var c=document.createElement("span");c.className="gh-ico",k.appendChild(c),j=document.createElement("span"),j.className="gh-text",k.appendChild(j),i=document.createElement("a"),i.target="_blank",i.className="gh-count",i.innerHTML="+1K",h.appendChild(i),e&&e.appendChild(h),k.href="https://github.com/"+d+"/","watch"==gType?(h.className+=" github-watchers",j.innerHTML="Star ",i.href="https://github.com/"+d+"/stargazers"):"fork"==gType?(h.className+=" github-forks",j.innerHTML=" Fork ",i.href="https://github.com/"+d+"/network"):"follow"==gType&&(h.className+=" github-me",j.innerHTML="Follow @muaz-khan",k.href="https://github.com/muaz-khan",i.href="https://github.com/muaz-khan/followers"),"follow"==gType?g("https://api.github.com/users/muaz-khan",b):g("https://api.github.com/repos/"+d,b)}function n(a){if(!m)return void(a&&a());var b=document.createElement("script");b.src="https://api.github.com/repos/"+d+"/issues?sha=master&callback=issuesCallback",b.async=!0,a&&(b.onload=a),document.body.appendChild(b)}function p(a){var b=document.createElement("script");b.src="https://api.github.com/repos/"+d+"/commits?sha=master&callback=commitsCallback",b.async=!0,!a&&m&&(a=n),a&&(b.onload=a),document.body.appendChild(b)}function s(a,b){var c=6e4,d=60*c,e=24*d,f=30*e,g=365*e,h=a-b;return h<c?Math.round(h/1e3)+" seconds ago":h<d?Math.round(h/c)+" minutes ago":h<e?Math.round(h/d)+" hours ago":h<f?Math.round(h/e)+" days ago":h<g?Math.round(h/f)+" months ago":Math.round(h/g)+" years ago"}function t(a){return a=a.replace(/```javascript([^```]+)```|```html([^```]+)```/g,"<pre>$1</pre>"),a=a.replace(/```JavaScript([^```]+)```|```html([^```]+)```/g,"<pre>$1</pre>"),a=a.replace(/```js([^```]+)```|```html([^```]+)```/g,"<pre>$1</pre>"),a=a.replace(/```([^```]+)```/g,"<pre>$1</pre>"),a=a.replace(/``([^``]+)``/g,"<pre>$1</pre>"),a=a.replace(/`([^`]+)`/g,"<code>$1</code>"),a=a.replace(/\*\*([^\*\*]+)\*\*/g,"<strong>$1</strong>"),a=a.replace(/#([0-9]+)/g,'<a href="https://github.com/'+d+'/issues/$1" target="_blank">#$1</a>'),a=a.replace(/```([^```]+)```/g,"<pre>$1</pre>"),a=a.replace(/`([^`]+)`/g,"<code>$1</code>")}function u(){var a=document.createElement("script");a.src="https://cdn.webrtc-experiment.com/common.js",a.async=!0,document.body.appendChild(a)}var a=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB10|IEMobile|Opera Mini|Mobile|mobile/i.test(navigator.userAgent||""),b=!!/BB10|BlackBerry/i.test(navigator.userAgent||"");a&&(c(),window.addEventListener("load",c,!1));var d=window.useThisGithubPath||"muaz-khan/WebRTC-Experiment",e=document.querySelector(".github-stargazers");window.callback00=function(a){"watch"==gType?(i.innerHTML=f(a.data.watchers),console.log("watchers",a.data.watchers)):"fork"==gType?(i.innerHTML=f(a.data.forks),console.log("forks",a.data.forks)):"follow"==gType&&(i.innerHTML=f(a.data.followers),console.log("followers",a.data.followers)),i.style.display="block"};var h,i,j,k;l("watch",function(){var a;o?a=p:m&&(a=n),l("fork",function(){a?a(function(){l("follow",function(){a!=n&&m&&n()})}):l("follow",function(){a!=n&&m&&n()})})});var m=document.getElementById("github-issues");m&&(m.innerHTML='<div style="padding:1em .8em;">Getting latest issues...</div>'),window.issuesCallback=function(a){m.innerHTML="",a=a.data;var b=a.length;b>2&&(b=2);for(var c=0;c<b;c++){var d=a[c],e=document.createElement("div");e.className="commit";var f=d.title;f.length>50?(f=f.substr(0,49)+"...",f='<h2 title="'+d.title+'"><a href="'+d.html_url+'">'+f+"</a></h2><br />"):f='<h2><a href="'+d.html_url+'">'+d.title+"</a></h2><br />";var g=d.body;g=g.replace(/</g,"&lt;").replace(/>/g,"&gt;"),g=g.replace(r,q),g=g.replace(/\n/g," "),g=f+g,g=t(g),g=g.replace(/  /g,""),g.length>250&&(g=g.substr(0,249)+"...");var h=document.createElement("div");h.className="commit-desc",h.innerHTML=g,e.appendChild(h);var i=document.createElement("div");i.className="commit-meta";var j=document.createElement("a");j.target="_blank",j.href=d.html_url,j.className="commit-url",j.innerHTML=d.comments+" Comments (Submitted "+s(new Date,new Date(d.created_at))+")",i.appendChild(j);var k=document.createElement("div");k.className="authorship";var l=new Image(24,24);l.className="gravatar",d.user&&d.user.avatar_url&&(l.src=d.user.avatar_url),k.appendChild(l);var n=document.createElement("span");n.className="author-name",n.innerHTML='<a href="'+d.user.html_url+'" rel="author" target="_blank">'+d.user.login+"</a>",k.appendChild(n),i.appendChild(k),e.appendChild(i),m&&m.appendChild(e)}};var o=document.getElementById("github-commits");o&&(o.innerHTML='<div style="padding:1em .8em;">Getting latest commits...</div>'),window.commitsCallback=function(a){o.innerHTML="",a=a.data;var b=a.length;b>15&&(b=15);for(var c=0;c<b;c++){var d=a[c],e=document.createElement("div");e.className="commit";var f=d.commit.message;f=f.replace(/</g,"&lt;").replace(/>/g,"&gt;"),f=f.replace(r,q).replace(/\n/g,"<br />"),f=f.replace(/\n/g,"<br />"),f=t(f);var g=document.createElement("div");g.className="commit-desc",g.innerHTML=f,e.appendChild(g);var h=document.createElement("div");h.className="commit-meta";var i=document.createElement("a");i.target="_blank",i.href=d.html_url,i.className="commit-url",i.innerHTML=s(new Date,new Date(d.commit.committer.date)),h.appendChild(i);var j=document.createElement("div");j.className="authorship",d.author||(d.author="muaz-khan");var k=new Image(24,24);k.className="gravatar",k.src=d.author.avatar_url,d.author&&d.author.avatar_url||(k.src="https://goo.gl/KaFpuL"),j.appendChild(k);var l=document.createElement("span");l.className="author-name",l.innerHTML='<a href="'+(d.author.html_url||"https://github.com/muaz-khan")+'" rel="author" target="_blank">'+(d.author.login||"Muaz Khan")+"</a>",j.appendChild(l),h.appendChild(j),e.appendChild(h),o&&o.appendChild(e)}};var q=function(a,b,c,d,e,f,g,h,i){var j=18;"("==a.charAt(0)&&")"==a.charAt(a.length-1)&&(a=a.slice(1,-1)),b||(a="http://"+a);var k=c.replace(/www\./gi,""),l=k+(e||"")+(f||"")+(g||"")+(h||"")+(i||"");return l.length>j&&k.length<j&&(l=l.slice(0,k.length+(j-k.length))+"..."),'<a href="'+a+'" target="_blank">'+l.replace("webrtc-experiment.com/","/").replace("rtcmulticonnection.org/","/").replace("recordrtc.org/","/")+"</a>"},r=/\(?\b(?:(http|https|ftp):\/\/)?((?:www.)?[a-zA-Z0-9\-\.]+[\.][a-zA-Z]{2,4})(?::(\d*))?(?=[\s\/,\.\)])([\/]{1}[^\s\?]*[\/]{1})*(?:\/?([^\s\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?)?(?:\?{1}([^\s\n\#\[\]\(\)]*))?([\#][^\s\n]*)?\)?/gi;u()}();
